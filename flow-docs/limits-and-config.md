---
title: 制限事項と構成 | Microsoft Docs
description: 制限事項と構成
services: ''
suite: flow
documentationcenter: na
author: stepsic-microsoft-com
manager: anneta
editor: ''
tags: ''
ms.service: flow
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 12/04/2018
ms.author: stepsic
search.app:
- Flow
search.audienceType:
- flowmaker
- enduser
ms.openlocfilehash: 8a8a6561840f91ab61b8d7440f1620c2e7cd0076
ms.sourcegitcommit: a505b0aac796960d57fccee92eb18c6566ac9c35
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/06/2018
ms.locfileid: "53006957"
---
# <a name="limits-and-configuration-in-microsoft-flow"></a>Microsoft Flow での制限事項と構成
このトピックでは、現時点でのフローに関する制限事項と構成の詳細について説明します。

## <a name="request-limits"></a>要求の制限
1 つの送信要求に対する制限は次のとおりです。

### <a name="timeout"></a>タイムアウト

| Name (名前) | 制限 |
| --- | --- |
| 同期呼び出しの要求タイムアウト |120 秒 |
| 非同期呼び出しの要求タイムアウト|構成可能。 最大 30 日。 |

### <a name="message-size"></a>メッセージ サイズ

| Name (名前) | 制限 | 備考 |
| --- | --- | --- |
| メッセージ サイズ |100 MB |100 MB を完全にサポートしていない API もあります。 |
| 式の評価の制限 |131,072 文字 |`@concat()`、`@base64()`、`string` は、この制限を超えることはできません。 |

### <a name="retry-policy"></a>再試行ポリシー

| Name (名前) | 制限 |
| --- | --- |
| 再試行回数 |90 | 既定値は 4 です。 既定値を変更するにはアクションの設定を使用します | 
| 再試行の最大遅延 |1 日 | |
| 再試行の最小遅延 |5 秒 | |

## <a name="run-duration-and-retention"></a>実行の継続時間とリテンション期間
1 つのフロー実行に対する制限は次のとおりです。

| Name (名前) | 制限 | 備考 |
| --- | --- | --- |
| 実行の継続時間 |30 日 |承認などの保留ステップを含むワークフローが含まれます。 30 日後、すべての保留ステップがタイムアウトになります。タイムアウトになった承認は、承認センターから削除されます。 タイムアウトになった要求を承認しようとすると、エラー メッセージが表示されます。 |
| ストレージのリテンション期間 |30 日 |これは、実行の開始時点からです。 |
| 最小繰り返し間隔 |1 分 | |
| 最大繰り返し間隔 |500 日 | |
| 実行履歴の最大リテンション期間 |28 日。GDPR ごとの規則。 | |

## <a name="looping-and-debatching-limits"></a>ループおよびバッチ解除の制限
1 つのフロー実行に対する制限は次のとおりです。

| Name (名前) | 制限 | 備考 |
| --- | --- | --- |
| Apply to each 項目 |100,000 |100,000 を利用可能なのは Premium プランのみです。 それ以外の場合は 5,000 に制限されます。 必要に応じて、フィルター アクションを使って大きい配列をフィルター処理できます。 |
| Until 反復 |5,000 | |
| SplitOn 項目 |100,000 |Apply to each と同様、Premium プランでない限り 5,000 に制限されます。 |
| Apply to each 並列処理 |50 |既定では、ループは順序どおりに実行されます (基本的に並列処理は 1 です)。 並列では最大 50 まで構成できます。 |
| 5 分あたりのアクション実行数 | 100,000 | 必要に応じて、複数のフローにワークロードを分散することもできます。 |
| アクションの同時発信数 | ~2,500 | 必要に応じて、同時要求の数を減らすか、継続時間を短縮します。 | 

## <a name="definition-limits"></a>定義の制限
1 つのフローに対する制限は次のとおりです。

| Name (名前) | 制限 | 備考 |
| --- | --- | --- |
| ワークフローごとのアクション |250 |必要に応じて、入れ子になったワークフローを追加してこの機能を拡張できます。 |
| 許可されるアクションの入れ子の深さ |8 |必要に応じて、入れ子になったワークフローを追加してこの機能を拡張できます。 |
| 式あたりの最大文字 |8,192 | |
| `action`/`trigger` 名の制限 |80 | |
| `description` の長さの制限 |256 | |

## <a name="sharepoint-limits"></a>SharePoint に関する制限
Microsoft Flow および PowerApps で、Microsoft SharePoint を使用する方法には、[制限](https://powerapps.microsoft.com/tutorials/connection-sharepoint-online/)があります。

## <a name="ip-address-configuration"></a>IP アドレスの構成
Microsoft Flow の要求の送信元の IP アドレスは、フローを使用している[環境](environments-overview-admin.md)が置かれている[リージョン](regions-overview.md)によって異なります。 現在、フローのシナリオで使用可能な FQDN は発行されていません。

### <a name="logic-apps"></a>Logic Apps
フローからの呼び出しは、Azure Logic App サービスを直接通過します。 このような呼び出し例としては、HTTP や HTTP + OpenAPI などがあります。 [Logic Apps のドキュメント](https://docs.microsoft.com/azure/logic-apps/logic-apps-limits-and-config#configuration-ip-addresses)に、このサービスで使用される IP アドレスが記載されています。

### <a name="connectors"></a>コネクタ
フロー内のコネクタからの呼び出し (たとえば SQL API や SharePoint API) は、以下に示す IP アドレスから送られてきます。

| Region (リージョン) | 送信 IP |
| --- | --- |
| アジア太平洋 | 13.75.36.64 から 13.75.36.79、13.67.8.240 から 13.67.8.255、52.175.23.169、52.187.68.19、52.163.91.227、52.163.89.40、52.163.89.65、52.163.95.29、52.187.53.78、13.75.89.9、13.75.91.198、13.75.92.202、13.75.92.124、23.97.72.250  |
| オーストラリア  | 13.70.72.192 から 13.70.72.207、13.72.243.10、13.77.50.240 から 13.77.50.255、13.70.136.174、13.77.7.172、13.70.191.49、13.70.189.7、13.70.187.251、13.70.188.38、13.70.82.210、13.73.203.158、13.73.207.42、13.73.205.35、13.70.88.23 |
| カナダ | 13.71.170.208 から 13.71.170.223、13.71.170.224 から 13.71.170.239、52.237.24.126、40.69.106.240 から 40.69.106.255、52.242.35.152、52.233.30.222、52.233.30.148、52.233.30.199、52.233.29.254、52.232.130.205、52.229.126.118、52.229.126.28、52.229.123.56、52.229.123.161、52.233.27.68 |
| ヨーロッパ | 13.69.227.208 から 13.69.227.223、52.178.150.68、13.69.64.208 から 13.69.64.223、52.174.88.118、52.166.241.149、52.166.244.232、52.166.245.173、52.166.243.169、52.178.37.42、40.69.45.126、40.69.45.11、40.69.45.93、40.69.42.254、52.164.249.26、137.117.161.181 |
| インド  | 104.211.81.192 から 104.211.81.207、52.172.211.12、40.78.194.240 から 40.78.194.255、13.71.125.22、104.211.146.224 から 104.211.146.239、104.211.189.218、52.172.54.172、52.172.55.107、52.172.55.84、52.172.51.70、52.172.49.180、52.172.158.185、52.172.159.100、52.172.158.2、52.172.155.245、52.172.153.107 |
| 日本 | 13.78.108.0 から 13.78.108.15、13.71.153.19、40.74.100.224 から 40.74.100.239、104.215.61.248、104.214.137.186、104.214.139.29、104.214.140.23、104.214.138.174、104.214.151.229、13.78.85.193、13.78.84.73、13.78.85.200、13.78.86.229、13.78.121.151 |
| 南米 | 191.233.203.192 から 191.233.203.207、104.214.19.48 から 104.214.19.63、13.65.86.57、104.41.59.51 |
| イギリス | 51.140.148.0 から 51.140.148.15、51.140.80.51、51.140.211.0 から 51.140.211.15、51.141.47.105 |
| 米国 | 13.89.171.80 - 13.89.171.95、52.173.245.164、40.71.11.80 - 40.71.11.95、40.71.249.205、40.70.146.208 - 40.70.146.223、52.232.188.154、52.162.107.160 - 52.162.107.175、52.162.242.161、40.112.243.160 - 40.112.243.175、104.42.122.49、104.43.232.28、104.43.232.242、104.43.235.249、104.43.234.211、52.160.93.247、52.160.91.66、52.160.92.131、52.160.95.100、40.117.101.91、40.117.98.246、40.117.101.120、40.117.100.191 |
| プレビュー (米国)  | 13.71.195.32 から 13.71.195.47、52.161.102.22、13.66.140.128 から 13.66.140.143、52.183.78.157、52.161.26.191、52.161.27.42、52.161.29.40、52.161.26.33、52.161.31.35、13.66.213.240、13.66.214.51、13.66.210.166、13.66.213.29、13.66.208.24 |

たとえば、Azure SQL Database の IP アドレスを承認する場合は、これらのアドレスを使う必要があります。

### <a name="required-services"></a>必要なサービス
次の表に、Microsoft Flow の接続先となるサービスの一覧を示します。 これらのどのサービスもネットワークでブロックされないことを確認してください。

ドメイン | プロトコル | 用途
--------|  ---------| -----
management.azure.com|https|Azure Resource Manager にアクセスします。
login.microsoft.com</br>login.windows.net</br>login.microsoftonline.com</br>secure.aadcdn.microsoftonline-p.com|https|Active Directory Authentication Library (ADAL) にアクセスします。
graph.microsoft.com </br>graph.windows.net</br>|https|プロファイルの写真などのユーザー情報を取得するために、Azure AD Graph API にアクセスします。
*.azure-apim.net|https|コネクタのランタイムにアクセスします。
*.flow.microsoft.com|https|Microsoft Flow サイトにアクセスします。
*.powerapps.com|https|PowerApps サイトにアクセスします。
*.azureedge.net|https|Microsoft Flow CDN にアクセスします。
nps.onyx.azure.net|https|NPS (Net Promoter Score) にアクセスします。
