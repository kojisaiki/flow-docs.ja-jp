---
title: PowerApps でプロセスを使用してカスタム ビジネス ロジックを作成する | MicrosoftDocs
description: アプリで使用できるビジネス ロジックのさまざまな種類について説明します
ms.custom: ''
ms.date: 05/01/2018
ms.reviewer: ''
ms.service: flow
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: get-started-article
applies_to:
- Dynamics 365 (online)
- Dynamics 365 Version 9.x
- powerapps
ms.assetid: 0b4e6602-5701-4859-81cc-6f6fe50901b2
caps.latest.revision: 44
author: Mattp123
ms.author: matp
manager: kvivek
search.app:
- Flow
search.audienceType:
- flowmaker
- enduser
ms.openlocfilehash: 5e123fa2abc8955d90fad2c9b09da76e449bf4b1
ms.sourcegitcommit: 9ecf4956320d465a3bf618b79a9023b729d33c89
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2019
ms.locfileid: "57462949"
---
# <a name="create-custom-business-logic-through-processes"></a>プロセスを使用してカスタム ビジネス ロジックを作成する

一貫したビジネス プロセスを定義して適用することは、モデル駆動型アプリが使用される主な理由の 1 つです。 一貫したプロセスを設けると、システムを使用するユーザーが、一連の手動手順の実行を忘れないようにすることではなく、自分の仕事に集中するのに役立ちます。 プロセスは、単純でも複雑でもよく、時間経過と共に変化してもかまいません。  
  
PowerApps には複数の種類のプロセスが含まれ、それぞれ異なる目的のために設計されています。  
  
-   業務プロセス フロー  
  
-   モバイル タスク フロー  
  
-   ワークフロー  
  
-   アクション  
  
 プロセスと同様に、業務ルールとレコメンデーションを作成することもできます。 詳しくは、「[フォームにロジックを適用するために業務ルールおよびビジネス レコメンデーションを作成する](/powerapps/maker/model-driven-apps/create-business-rules-recommendations-apply-logic-form)」をご覧ください  

> [!NOTE]
>  プロセスを使用すると、PowerApps とフローのライセンス要件に影響する場合があります。 詳しくは、「[エンティティのライセンス要件](https://docs.microsoft.com/powerapps/maker/common-data-service/data-platform-entity-licenses)」をご覧ください。 


<a name="BKMK_BP"></a>   
## <a name="when-to-use-business-process-flows"></a>業務プロセス フローを使用する場合  
 スタッフに同じステージに沿って移動させ、同じ手順に従って顧客と対話させたい場合は、業務プロセス フローを使用します。 たとえば、顧客のサービス要求の処理方法がどの担当者でも同じになるようにしたり、注文前に請求書の承認を得ることを必須にしたりするには、業務プロセス フローを使用します。  
  
 環境には一般的な販売、サービス、およびマーケティング関連のタスクにすぐに使用できる業務プロセス フローが含まれており、変更をほとんどまたはまったく必要としないで使用できます。 または、独自に作成することもできます。 業務プロセス フローについて詳しくは、次のトピックをご覧ください。  
  
-   [業務プロセス フローを作成する](create-business-process-flow.md)  
  
<a name="BKMK_WF"></a>   
## <a name="when-to-use-workflows"></a>ワークフローを使用する場合  
 背後にある業務プロセスを自動化するには、ワークフローを使用します。 ワークフローは、通常、ユーザーが実行していることを認識する必要がないように、システム イベントによって開始されます。 バックグラウンドで動作するワークフローは "非同期" です。 ユーザーが手動で開始するようにワークフローを構成することもできます。 注文出荷時に顧客に確認メールを自動送信する場合など、一般的なタスクを自動化したい場合です。 リアルタイムで動作するワークフローは "同期" です。 ワークフローについて詳しくは、[ワークフロー プロセス](workflow-processes.md)に関する記事をご覧ください。  

<a name="BKMK_Actions"></a>   
## <a name="when-to-use-actions"></a>アクションを使用する場合  
 システムで一連のコマンドを自動化するときは、アクションを使用します。 アクションによって、開発者が業務プロセスを表現するために使用できるボキャブラリが広がります。 "作成する"、"更新する"、"削除する"、"割り当てる" などの主要な動詞はシステムによって提供されており、アクションではこれらの中核となる動詞を使用して、"承認する"、"エスカレートする"、"ルーティングする"、"スケジュールする" などのさらに説明的な動詞を作成します。 業務プロセスの定義が変わった場合、開発者以外でもアクションを編集することができ、コードを変更する必要はありません。  アクションについて詳しくは、[アクション](create-actions.md)に関する記事をご覧ください  
  
<a name="useMSFlow"></a>   
## <a name="when-to-use-microsoft-flow"></a>Microsoft Flow を使用する場合  
 環境と好みのアプリやサービス (Dynamics 365、Twitter、Dropbox、Google サービス、Office 365、SharePoint など) の間のアクションを実行する自動化されたワークフローを作成する必要がある場合は、Microsoft Flow を使用します。 特定のアクションに基づいてフローをトリガーしたり、アプリ内から呼び出したりできます。 詳細情報: [サービス全体でプロセスを自動化するために Microsoft Flow を使用する](https://docs.microsoft.com/dynamics365/customer-engagement/basics/use-flow-automate-processes-across-services
)  
  
<a name="BKMK_Where"></a>   
## <a name="where-do-i-go-to-create-processes"></a>プロセスを作成する場所  
 プロセスに移動するには 2 つのパスがあります。  
  
- [ソリューション エクスプローラー](/powerapps/maker/model-driven-apps/advanced-navigation#solution-explorer)を開き、**[コンポーネント] > [プロセス]** に移動します。 このパスでは、カスタマイズ ツールで他のカスタマイズ作業を行っているときのアクセスが便利です。  

- **[[設定](/powerapps/maker/model-driven-apps/advanced-navigation#settings)] > [プロセス]** に移動します。 このパスでは、カスタム ビューなど、プロセス エンティティに対して定義されているビューを使用できます。  
  
 業務プロセス フローがアクティブになっているフォームのコマンド バーの **[プロセスの編集]** ボタンを使用して、個々の業務プロセス フローを編集することもできます。  
  
<a name="BKMK_WhoCreate"></a>   
## <a name="who-can-create-processes"></a>プロセスを作成できるユーザー  
 システム管理者、システム カスタマイザー、最高経営責任者のセキュリティ ロールを持つユーザーだけが、環境全体に適用されるプロセスを作成できます。 他のロールを持つユーザーは、制限付きのアクセス レベルを持つプロセスを作成できます。 たとえば、ユーザー アクセス レベルを持つユーザーは、自分が所有するレコードを自分で使用するためのワークフローを作成できます。  
  
 次の表では、既定のセキュリティ ロールに基づくプロセスのアクセス レベルを示します。  
  
|||  
|-|-|  
|**セキュリティ ロール**|**アクセス レベル**|  
|最高経営責任者|組織|  
|システム管理者|組織|  
|システム カスタマイザー|組織|  
|マーケティング担当副社長|部署配下|  
|営業担当副社長|部署配下|  
|サービス マネージャー|部署|  
|マーケティング マネージャー|部署|  
|営業マネージャー|部署|  
|スケジュール マネージャー|部署|  
|顧客サービス担当者|ユーザー|  
|マーケティング プロフェッショナル|ユーザー|  
|営業担当者|ユーザー|  
|フィールド サービス担当者|ユーザー|  
  
> [!NOTE]
>  ユーザーは、業務プロセス フロー、リアルタイム ワークフロー、またはアクション プロセスを作成できる場合があります、それらをアクティブ化するには、**業務プロセス フローのアクティブ化**特権または**リアルタイム プロセスのアクティブ化**特権が必要です。  
  
<a name="BKMK_WhatCanProcessesDo"></a>   
## <a name="more-about-workflows-and-actions"></a>ワークフローとアクションの詳細  
 プロセスでは、条件をチェックし、分岐ロジックを適用し、アクションを実行することができます。 これらのアクションは一連のステップで実行されます。 次の表では、ワークフローとアクションのプロセスで使用可能なステップについて説明します。 詳しくは、プロセスの種類ごとのトピックをご覧ください。  
  
|手順|プロセスの種類|説明|  
|----------|------------------|-----------------|  
|**ステージ**|ワークフロー、アクション|ステージは、ワークフロー ロジックを読み取りやすくし、ワークフロー ロジックについて説明します。 ただし、ステージは、ロジックすなわちワークフローの動作には影響しません。 1 つのプロセスに複数のステージがある場合、プロセス内のすべてのステップは 1 つのステージに含まれる必要があります。|  
|**条件の確認**|ワークフロー、アクション|論理 "if-\<condition> then" ステートメント。<br /><br /> ワークフローの実行対象のレコード、そのレコードに N:1 リレーションシップで関連付けられているすべてのレコード、または前のステップで作成されたすべてのレコードの値を確認できます。 これらの値に基づいて、条件が `true` の場合に追加のステップを定義できます。|  
|**条件分岐**|ワークフロー、アクション|論理 "else-if-then" ステートメント。エディターでは "Otherwise, if \<condition> then:" というテキストが使用されます。<br /><br /> 前に定義した条件の確認を選択し、条件分岐を追加して、条件の確認で `false` が返されたときの追加ステップを定義できます。|  
|**既定のアクション**|ワークフロー、アクション|論理 "else" ステートメント。 エディターでは、テキスト "Otherwise:" が使用されます。<br /><br /> 前に定義した条件の確認、条件分岐、待機条件、または並列待機分岐を選択し、既定のアクションを使用して、条件または分岐要素で定義されている条件に一致しないすべてのケースに対するステップを定義できます。|  
|**待機条件**|バックグラウンド ワークフローのみ|条件に定義された基準が満たされるまで、バックグラウンド ワークフローを一時停止できます。 待機条件の基準が満たされると、ワークフローが自動的に再開されます。|  
|**並列待機分岐**|バックグラウンド ワークフローのみ|バックグラウンド ワークフローのために、最初の基準が満たされた場合のみに実行される一連の追加ステップを指定して、代替の待機条件を定義します。 並列待機分岐を使用すると、ワークフロー ロジックに時間制限を設定できます。 待機条件に定義された基準が満たされるまで、ワークフローが無期限に待機することを防ぎます。|  
|**値を割り当てる**|アクション|プロセスの変数または出力パラメーターに値を設定します。|  
|**レコードを作成する**|ワークフロー、アクション|エンティティに対して新しいレコードを作成し、属性に値を割り当てます。|  
|**レコードを更新する**|ワークフロー、アクション|ワークフローの実行対象のレコード、そのレコードに N:1 リレーションシップで関連付けられているすべてのレコード、または前のステップで作成されたすべてのレコードを更新できます。|  
|**レコードを割り当てる**|ワークフロー、アクション|ワークフローの実行対象のレコード、そのレコードに N:1 リレーションシップで関連付けられているすべてのレコード、または前のステップで作成されたすべてのレコードを割り当てできます。|  
|**メールを送信する**|ワークフロー、アクション|メールを送信します。 新しいメール メッセージを作成するか、メール テンプレートを使用するかを選択できます。テンプレートは、ワークフローの実行対象のレコードのエンティティ、そのエンティティに N:1 リレーションシップで関連付けられているすべてのエンティティ、または前のステップで作成されたすべてのレコードのエンティティについて構成されています。|  
|**子ワークフローを開始する**|ワークフロー、アクション|子ワークフローとして構成されたワークフロー プロセスを開始します。|  
|**状態を変更する**|ワークフロー、アクション|プロセスの実行対象のレコード、そのレコードに N:1 リレーションシップで関連付けられているすべてのレコード、または前のステップで作成されたすべてのレコードの状態を変更できます。|  
|**ワークフローを停止する**|ワークフロー、アクション|現在のワークフローまたはアクションを停止します。 **成功**または**取り消し済み**の状態を設定し、ステータス メッセージを指定できます。|  
|**カスタム ステップ**|ワークフロー、アクション|既定で使用可能な論理要素に対する拡張機能を提供します。 ステップには、条件、アクション、他のステップ、またはこれらの組み合わせを含めることができます。 開発者は、カスタム ワークフローのステップを作成できます。 既定では、カスタム ステップは使用できません。|

開発者向けの詳細については、開発者ガイドのトピック「[Customer Engagement のビジネス プロセスを自動化する](https://docs.microsoft.com/dynamics365/customer-engagement/developer/automate-business-processes-customer-engagement
)」をご覧ください。
  

